### Домашнее задание к занятию «4.2. Заключительная лекция»

## План автоматизации тестирования сценария отправки заявки на открытие накопительного счета “Накопилка” на сайте Альфа-Банка

### **1. Перечень автоматизируемых сценариев**

#### **Позитивные сценарии (Happy Path)**

**Основная задача:**
Формируем 4 варианта позитивных сценария, поскольку попасть на страницу заполнения анкеты можно несколькими способами. 
Во всех вариантах анкету заполняем валидными данными. Ставим галочку в чек-боксе. Нажимаем кнопку "Мы перезвоним".

**Ожидаемый результат:**
При любом позитивном сценарии ожидаемым результатом будет сообщение - "Спасибо, скоро мы вам перезвоним!".

### **Сценарии входа на страницу анкеты:**

I. Вход на страницу заполнения анкеты с помощью клика на вкладку "Вклады".

Общий вход для двух сенариев:

* В браузере зайти на главную страницу сайта https://alfabank.ru/
* Кликнуть на вкладку" Частным лицам" 
* Кликнуть на вкладку "Вклады" 
* Перейти на страницу "Вклады и инвестиции"
* Кликнуть на пункт "Накопительные счета"
* Кликнуть на пункт "Накопилка" 
* Перейти на страницу "Накопительный счет "Накопилка"

Далее выбираем сценарии:

1. Через блок вверху страницы "Накопительный счет "Накопилка":

* Вверху страницы в блоке "Накопительный счет "Накопилка" кликнуть на кнопку "Заполнить заявку" 
* В поле "Имя" вводим валидные данные: имя русскими символами с большой буквы "Ирина". 
* В поле "Мобильный телефон" вводим валидные данные: 10 цифр - "9270956545. 
* Кликнуть на чек-боксе "Я согласен(а) на обработку персональных данных"
* Кликнуть на кнопку "Мы перезвоним" 

2. Через блок внизу страницы "Как открыть счет и услугу "Копилка для сдачи"?"

* Внизу страницы в блоке "Как открыть счет и услугу "Копилка для сдачи"?" кликнуть на кнопку "Заполнить заявку" 
* В поле "Имя" вводим валидные данные: имя русскими символами с большой буквы "Мария". 
* В поле "Мобильный телефон" вводим валидные данные: 10 цифр - "9261230567". 
* Кликнуть на чек-боксе "Я согласен(а) на обработку персональных данных"
* Кликнуть на кнопку "Мы перезвоним" 

II. Вход на страницу заполнения анкеты через всплывающее меню вкладки "Вклады" пункт "Накопилка".

Общий вход для двух сенариев:

* В браузере зайти на главную страницу сайта https://alfabank.ru/
* Кликнуть на вкладку" Частным лицам" 
* Навести курсор на вкладку "Вклады" и дождаться всплывающего пункта меню
* В всплывающем меню кликнуть на пункт "Накопилка" 
* Перейти на страницу "Накопительный счёт "Накопилка"

Далее выбираем сценарии:

1. Через блок вверху страницы "Накопительный счет "Накопилка":

* Вверху страницы в блоке "Накопительный счет "Накопилка" кликнуть на кнопку "Заполнить заявку" 
* В поле "Имя" вводим валидные данные: имя русскими символами с большой буквы "Ирина". 
* В поле "Мобильный телефон" вводим валидные данные: 10 цифр - "9270956545. 
* Кликнуть на чек-боксе "Я согласен(а) на обработку персональных данных"
* Кликнуть на кнопку "Мы перезвоним" 

2. Через блок внизу страницы "Как открыть счет и услугу "Копилка для сдачи"?"

* Внизу страницы в блоке "Как открыть счет и услугу "Копилка для сдачи"?" кликнуть на кнопку "Заполнить заявку" 
* В поле "Имя" вводим валидные данные: имя русскими символами с большой буквы "Мария". 
* В поле "Мобильный телефон" вводим валидные данные: 10 цифр - "9261230567". 
* Кликнуть на чек-боксе "Я согласен(а) на обработку персональных данных"
* Кликнуть на кнопку "Мы перезвоним" 

#### **Негативные сценарии (Sad Path)**

**Основная задача:**
Проверяем ввод невалидных данных в поля анкеты, отсутствие галочки в чек-боксе  "Я согласен(а) на обработку персональных данных". 

**Ожидаемый результат:**
Появляется сообщение о том, что необходимо проверить введенные данные. Кнопка "Мы перезвоним" не активна

**Вход на страницу заполнения анкеты для всех негативных сценариев:**

* В браузере зайти на главную страницу сайта https://alfabank.ru/
* Кликнуть на вкладку" Частным лицам" 
* Навести курсор на вкладку "Вклады" и дождаться всплывающего пункта меню
* В всплывающем меню кликнуть на пункт "Накопилка" 
* Перейти на страницу "Накопительный счёт "Накопилка"
* Вверху страницы в блоке "Накопительный счет "Накопилка" кликнуть на кнопку "Заполнить заявку" 

**На странице заполнения анкеты заполняем анкету согласно следующим сценариям:**

1. 
* поле "Имя" не заполнять
* в поле "Мобильный телефон" ввести валидные номер из 10 цифр: 5678345657
* поставить галочку в чек-боксе "Я согласен(а) на обработку персональных данных"
* нажать кнопку "Мы перезвоним" 

Ожидаемый результат: 
Кнопка "Мы перезвоним" не активна. 

2. 
* в поле "Имя" ввести латинские буквы "Marysia" 
* в поле "Мобильный телефон" ввести валидные номер из 10 цифр: 9678087345
* поставить галочку в чек-боксе "Я согласен(а) на обработку персональных данных"
* нажать кнопку "Мы перезвоним" 

Ожидаемый результат: 
Кнопка "Мы перезвоним" не активна. 

3. 
* в поле "Имя" ввести набор цифр "12345678902"
* в поле "Мобильный телефон" ввести валидные номер из 10 цифр: 8976456123
* поставить галочку в чек-боксе "Я согласен(а) на обработку персональных данных"
* нажать кнопку "Мы перезвоним" 

Ожидаемый результат: 
Кнопка "Мы перезвоним" не активна. 

4. 
* в поле "Имя" ввести двойное имя через дефис - "Мария-Антуанетта" 
* в поле "Мобильный телефон" ввести валидные номер из 10 цифр: 8934567876
* поставить галочку в чек-боксе "Я согласен(а) на обработку персональных данных"
* нажать кнопку "Мы перезвоним" 

Ожидаемый результат: 
высвечивается сообщение - "Спасибо, скоро мы вам перезвоним!" 

5.
* поле "Имя" заполнить валидными данными: "Мирон" 
* поле "Мобильный телефон" не заполнять
* поставить галочку в чек-боксе "Я согласен(а) на обработку персональных данных"
* нажать кнопку "Мы перезвоним"

Ожидаемый результат : 
Кнопка "Мы перезвоним" не активна. 

6.
* поле "Имя" заполнить валидными данными: "Василий" 
* в поле" Мобильный телефон" ввести набор буквенных символов: "Скоровесна"
* поставить галочку в чек-боксе "Я согласен(а) на обработку персональных данных"
* нажать кнопку "Мы перезвоним"

Ожидаемый результат: 
ввести буквенных символы невозможно. Кнопка "Мы перезвоним" не активна. 

7.
* в поле "Имя" ввести валидные данные: Виктор. 
* в поле "Мобильный телефон" ввести 15 цифр: 567894567798865
* поставить галочку в чек-боксе "Я согласен(а) на обработку персональных данных"
* нажать кнопку "Мы перезвоним"

Ожидаемый результат: 
невозможно ввести 15 цифр в поле "Мобильный телефон". Кнопка "Мы перезвоним" не активна. 

8.
* в поле " Имя" ввести валидные данные : "Аркадий" 
* в поле "Мобильный телефон" ввести валидный номер телефона: 8904567893
* не ставить галочку в чек-боксе "Я согласен(а) на обработку персональных данных" 
* нажать кнопку "Мы перезвоним"

Ожидаемый результат: кнопка "Мы перезвоним" не активна.

### **2. Перечень используемых инструментов с обоснованием выбора**

1. IntelliJ IDEA — интегрированная среда разработки программного обеспечения. 
Подходит для работы на Java, JavaScript, Python. 
Выбираем её, поскольку она содержит Java Virtual Machine, а автотесты написаны на Java. 
Поддерживает операционные системы Microsoft Windows, Linux, macOC. 
Скачать последнюю версию можно на сайте http://www.jetbrains.com/idea/

1. Java 8 — язык написания авто-тестов;

1. Gradle — система управления зависимостями. Проект с автотестами создать на базе Gradle. 

1. JUnit — платформа для написания авто-тестов и их запуска; 
в файле build.gradle в зависимостях включить поддержку JUnit Jupiter

````
{
 testImplementation 'org.junit.jupiter:junit-jupiter:5.5.1'
}
test 
{
useJUnitPlatform()
} 
````

5. Git и GitHub — хранение кода, в том числе авто-тестов (папку .gitignore готовим заранее)

6. CSS-селекторы — специальный язык выражений, позволяющий осуществлять поиск на странице веб-интерфейса.

7. Selenide — это фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver. 
Добавить в файл build.gradle зависимость 

````
testImplementation 'com.codeborne:selenide:5.3.1'
````

8. Библиотека Facker. Необходима для того, чтобы избежать эффекта пестицида при вводе валидных данных.
Используем для ввода рандомных данных в поля “Имя” и “Мобильный телефон”. Невалидные данные можно захардкордить.
Подключаем в build.gradle 

````
testImplementation 'com.github.javafaker:javafaker:1.0.1'.
````

9. Библиотека Lombok, которая позволит ускорить процесс написания стандартных методов и конструкторов, а также упростит код.

10. Allure - фреймворк, предназначенный для создания визуально наглядной картины выполнения тестов. 
Подключаем его в папке build.gradle:

````
plugins {
id 'java'
id 'io.qameta.allure' version '2.8.1'
}

...
allure {
autoconfigure = true
version = '2.13.0' // Latest Allure Version
useJUnit5 {
version = '2.13.0' // Latest Allure Version
}
}
dependencies {
...
testImplementation 'io.qameta.allure:allure-selenide:2.13.0'
}

repositories {
jcenter()
mavenCentral()
}
````

Для запуска используем команды: 

````
gradlew clean test allureReport
gradlew allureServe
````

### **3. Перечень необходимых разрешений/данных/доступов от банка**

1. Необходим "тестовый" режим SUT, на котором можно проверить демо-данные. 
1. Сервисный доступ. 
Обладая определённым кодом доступа (или токеном), или выполняя запросы с определённых доверенных IP-адресов, 
SUT предоставляет расширенные возможности через своё API. В этом случае не будет риска, что мы тестируем "тестовый режим"

### **4. Перечень и описание возможных рисков при автоматизации**

При тестовом режиме нужно отдельно поддерживать и актуализировать, а это лишние ресурсы разработчиков.
При тестовом режиме используются упрощённые варианты взаимодействия (встраиваемая СУБД, заглушки для внешних систем),
поэтому возрастает вероятность, что мы будем тестировать "тестовый режим", а не реальную систему.

При сервисном доступе появляется риск, что сервисный доступ получат злоумышленники. 

### **5. Интервальная оценка с учётом рисков (в часах)**

* Подготовка к проведению тестирования: 6 часов
* Написание автотестов: 12 часов
* Подготовка отчетов о проведении тестирования: 6 часов
















